<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>HANGMAN</title>
<style>
  body {
    background-color: black;
    color: #00ff40; /* Commodore PET green */
    font-family: "Courier New", monospace;
    text-transform: uppercase;
    margin: 0;
    height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  h1 {
    text-align: center;
    margin: 20px 0;
    font-size: 2em;
    letter-spacing: 4px;
  }

  #game {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 80%;
    flex-grow: 1;
  }

  #hook {
    white-space: pre;
    font-size: 0.9em;
    width: 45%;
  }

  #word {
    width: 45%;
    text-align: center;
    font-size: 2em;
    letter-spacing: 0.5em;
  }

  #bottom {
    width: 80%;
    border: 2px solid #00ff40;
    text-align: center;
    padding: 10px;
    margin-bottom: 20px;
    font-size: 1.5em;
    min-height: 40px;
  }

  .blink {
    animation: blink 1s infinite;
  }

  @keyframes blink {
    50% { opacity: 0; }
  }
</style>
</head>
<body>
  <h1>HANGMAN</h1>
  <div id="game">
    <pre id="hook">
     _______
    |/      |
    |
    |
    |
    |
    |
   _|___
    </pre>
    <div id="word"></div>
  </div>
  <div id="bottom">TYPE A LETTER...</div>

<script>
  const words = [
    "ANOTHER","BECAUSE","BETWEEN","WITHOUT","THROUGH","POSSIBLE","IMPORTANT","DIFFERENT","COMPANY","STUDENT",
    "COUNTRY","PROBLEM","PROGRAM","COMPUTER","KEYBOARD","INTERNET","TEACHER","FAMILY","FRIENDS","SERVICE",
    "MORNING","AFTERNOON","EVENING","HISTORY","LANGUAGE","QUESTION","ANSWERED","COMMUNITY","SOFTWARE","BUILDING",
    "EXAMPLE","STRUCTURE","HOSPITAL","EVIDENCE","FUNCTION","GUIDANCE","IDENTITY","JOURNAL","MAINTAIN","BALANCE",
    "CAPACITY","DIRECTION","OPERATION","PATIENTS","RELEVANT","SCHEDULE","ULTIMATE","VACATION","WEBSITE","YESTERDAY",
    "WRITING","ANALYSIS","BASEBALL","BIRTHDAY","COLLEGE","DECISION","DISCOVER","ECONOMY","ELEPHANT","FOOTBALL","HOLIDAY",
    "LIBRARY","MANAGER","MATERIAL","NEWSPAPER","PLASTIC","POLICIES","POSITION","PRACTICE","PRODUCE","PROJECT","PURPOSE",
    "RECORDS","RESEARCH","RESIDENT","RESPECTS","SOCIETY","SUPPORT","TELEPHONE","TELEVISION","TOMORROW","TRAINING","UNIVERSE",
    "VEHICLE","WEATHER","WEEKEND","WILDLIFE","WORKERS","WRITTEN","DANGEROUS","FORGIVEN","HAPPENED","MEANINGS","OPINIONS","PASSENGER",
    "REASONED","RELATION","TRIANGLE","TREATING","VISITING","WELCOME","YOURSELF","ZOOLOGY","AIRPLANE","FREEDOM"
  ];

  const hookStages = [
`     _______
    |/      |
    |
    |
    |
    |
    |
   _|___`,
`     _______
    |/      |
    |      ( )
    |
    |
    |
    |
   _|___`,
`     _______
    |/      |
    |      ( )
    |       |
    |       |
    |
    |
   _|___`,
`     _______
    |/      |
    |      ( )
    |      /|
    |       |
    |
    |
   _|___`,
`     _______
    |/      |
    |      ( )
    |      /|\\
    |       |
    |
    |
   _|___`,
`     _______
    |/      |
    |      ( )
    |      /|\\
    |       |
    |      /
    |
   _|___`,
`     _______
    |/      |
    |      ( )
    |      /|\\
    |       |
    |      / \\
    |
   _|___`
  ];

  let secret = words[Math.floor(Math.random() * words.length)];
  let guessed = new Set();
  let wrong = 0;

  const wordEl = document.getElementById("word");
  const hookEl = document.getElementById("hook");
  const bottomEl = document.getElementById("bottom");

  function updateWord() {
    const display = secret.split("").map(ch => guessed.has(ch) ? ch : "_").join(" ");
    wordEl.textContent = display;
  }

  function updateHook() {
    hookEl.textContent = hookStages[wrong];
  }

  function showMessage(msg) {
    bottomEl.textContent = msg;
  }

  function checkGameState() {
    if (secret.split("").every(l => guessed.has(l))) {
      showMessage("YOU WIN! PRESS ENTER FOR NEW GAME");
      document.removeEventListener("keydown", handleKey);
      document.addEventListener("keydown", restartOnEnter);
    } else if (wrong >= hookStages.length - 1) {
      showMessage(`GAME OVER! WORD WAS ${secret}. PRESS ENTER TO RESTART`);
      hookEl.textContent = hookStages[wrong];
      document.removeEventListener("keydown", handleKey);
      document.addEventListener("keydown", restartOnEnter);
    }
  }

  function handleKey(e) {
    const letter = e.key.toUpperCase();
    if (!/^[A-Z]$/.test(letter)) return;
    if (guessed.has(letter)) return;
    guessed.add(letter);

    if (!secret.includes(letter)) wrong++;
    updateHook();
    updateWord();
    showMessage([...guessed].join(" "));
    checkGameState();
  }

  function restartOnEnter(e) {
    if (e.key === "Enter") {
      secret = words[Math.floor(Math.random() * words.length)];
      guessed.clear();
      wrong = 0;
      updateHook();
      updateWord();
      showMessage("TYPE A LETTER...");
      document.removeEventListener("keydown", restartOnEnter);
      document.addEventListener("keydown", handleKey);
    }
  }

  updateHook();
  updateWord();
  showMessage("TYPE A LETTER...");
  document.addEventListener("keydown", handleKey);
</script>
</body>
</html>
