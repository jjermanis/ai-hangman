<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>HANGMAN</title>
<style>
  :root{
    --bg: #000000;
    --green: #00FF66; /* PET-like green */
  }
  html,body{height:100%;margin:0;background:var(--bg);color:var(--green);font-family:"Courier New",Courier,monospace;box-sizing:border-box;}
  /* All printed letters uppercase */
  body { text-transform: uppercase; }

  /* App layout minimal */
  .app { min-height:100%; display:flex; flex-direction:column; align-items:center; padding:18px; gap:12px; }

  header { width:100%; text-align:center; font-size:2.6rem; letter-spacing:0.26rem; margin-top:6px; margin-bottom:6px; }

  /* Row holds hook (left) and letters area (right) */
  .row { width:100%; max-width:1100px; display:flex; gap:12px; align-items:flex-start; }

  /* Hook area fixed width and fixed height so letters can be vertically aligned between top and bottom of hook */
  .hook {
    width:160px;
    min-width:120px;
    height:220px;            /* defines top & bottom region for vertical centering of the letter line */
    display:flex;
    align-items:flex-start;  /* svg sits at top of hook container to match visual hook top */
    justify-content:center;
  }

  /* Letters-wrap centers the letters horizontally between the hook and the right edge.
     Also vertically centers the letters between top and bottom of the hook by matching height. */
  .letters-wrap {
    flex:1;
    display:flex;
    align-items:center;    /* vertical centering relative to hook height (we place this container same vertical space) */
    min-height:220px;     /* match the hook height so the horizontal line of underscores is vertically between top & bottom of hook */
    justify-content:center;/* center horizontally between hook and right edge */
    padding-top:0;
  }

  /* Keep letters on one line when possible; horizontal scroll if too long */
  .letters {
    display:flex;
    gap:12px;
    align-items:center;
    white-space:nowrap;
    overflow:auto;
  }

  .slot {
    min-width:28px;
    padding:6px 2px 10px 2px;
    text-align:center;
    border-bottom:2px solid var(--green);
    font-size:1.6rem;
    line-height:1;
    letter-spacing:0.12rem;
  }
  .slot.revealed { font-weight:700; }

  /* Bottom guessed-box (minimal) */
  .guessed-box {
    width:100%;
    max-width:1100px;
    border:2px solid var(--green);
    padding:10px;
    min-height:56px;
    display:flex;
    gap:8px;
    align-items:center;
    flex-wrap:wrap;
    box-sizing:border-box;
  }
  .guessed-title { margin-right:6px; font-size:0.9rem; }
  .guessed-letter {
    min-width:26px;
    height:30px;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    border:1px solid rgba(0,255,102,0.12);
    padding:2px 6px;
    font-weight:700;
  }

  /* Minimal overlay message shown only at game end */
  .overlay {
    position:fixed;
    left:0; right:0; top:0; bottom:0;
    display:flex;
    align-items:center;
    justify-content:center;
    pointer-events:none;
  }
  .message {
    pointer-events:auto;
    background:transparent;
    border:2px solid var(--green);
    padding:18px 22px;
    text-align:center;
    font-size:1.05rem;
  }

  /* PET glow (subtle) */
  .glow { text-shadow:0 0 6px rgba(0,255,102,0.12); }

  /* Responsive: hide hook on very small screens to keep minimal UI (still meets requirements) */
  @media (max-width:520px){
    .hook { display:none; }
    .letters-wrap { min-height:140px; align-items:center; }
    header { font-size:1.7rem; }
  }
</style>
</head>
<body>
  <div class="app" role="application" aria-label="Hangman">
    <header class="glow">HANGMAN</header>

    <div class="row" id="playRow">
      <!-- Hook SVG on left. Hangman pieces are separate groups shown/hidden. -->
      <div class="hook" aria-hidden="true">
        <svg id="hangmanSvg" width="140" height="220" viewBox="0 0 140 220" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Hangman's hook and figure">
          <!-- static hook/post -->
          <rect x="18" y="8" width="6" height="190" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round"/>
          <rect x="24" y="8" width="78" height="6" fill="currentColor"/>
          <path d="M104 14 C106 34 84 40 84 56" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round"/>
          <circle cx="84" cy="56" r="3" fill="currentColor"/>

          <!-- Hangman pieces (hidden initially). Revealed on wrong guesses in this order: 1..6 -->
          <!-- 1) Head -->
          <g id="piece-1" visibility="hidden" stroke="currentColor" fill="none" stroke-width="3">
            <circle cx="84" cy="78" r="16"/>
          </g>
          <!-- 2) Body -->
          <g id="piece-2" visibility="hidden" stroke="currentColor" fill="none" stroke-width="3">
            <line x1="84" y1="94" x2="84" y2="140" stroke-linecap="round"/>
          </g>
          <!-- 3) Left arm -->
          <g id="piece-3" visibility="hidden" stroke="currentColor" fill="none" stroke-width="3">
            <line x1="84" y1="106" x2="62" y2="120" stroke-linecap="round"/>
          </g>
          <!-- 4) Right arm -->
          <g id="piece-4" visibility="hidden" stroke="currentColor" fill="none" stroke-width="3">
            <line x1="84" y1="106" x2="106" y2="120" stroke-linecap="round"/>
          </g>
          <!-- 5) Left leg -->
          <g id="piece-5" visibility="hidden" stroke="currentColor" fill="none" stroke-width="3">
            <line x1="84" y1="140" x2="64" y2="168" stroke-linecap="round"/>
          </g>
          <!-- 6) Right leg -->
          <g id="piece-6" visibility="hidden" stroke="currentColor" fill="none" stroke-width="3">
            <line x1="84" y1="140" x2="104" y2="168" stroke-linecap="round"/>
          </g>
        </svg>
      </div>

      <!-- Hidden letters area: horizontally centered between hook and right edge, vertically aligned within hook height -->
      <div class="letters-wrap" aria-hidden="false">
        <div id="letters" class="letters" aria-live="polite" aria-label="Hidden letters">
          <!-- JS fills slots here -->
        </div>
      </div>
    </div>

    <!-- Bottom box showing guessed letters in alphabetical order -->
    <div class="guessed-box" aria-live="polite" aria-label="Guessed letters">
      <div class="guessed-title">GUESSED:</div>
      <div id="guessedList" style="display:flex;gap:6px;flex-wrap:wrap"></div>
    </div>

    <!-- Minimal overlay for end message -->
    <div class="overlay" id="overlay" style="display:none" aria-hidden="true">
      <div class="message" id="endMessage" role="status" aria-live="assertive"></div>
    </div>
  </div>

<script>
/*
 Minimal Hangman SPA
 - Minimal UI per request
 - Wrong guesses add hangman pieces (6 total): head, body, left arm, right arm, left leg, right leg
 - Game end on 6 wrong guesses OR when all letters revealed
 - On game over: show minimal end message and instruct to press ENTER to play again
 - 100-word bank embedded (6-10 letters each; >=5 distinct letters; US spelling; uppercase)
*/

/* ---------- 100-word bank (all uppercase) ----------
   Each entry is 6-10 characters, has at least 5 distinct letters, and uses US spelling.
   (Best-effort selection of common words.)
*/
const WORD_BANK = [
  "PEOPLE","BECAUSE","THROUGH","BETWEEN","WITHOUT","COUNTRY","ANOTHER","COMPANY","PROBLEM","EXAMPLE",
  "POSSIBLE","IMPORTANT","QUESTION","REMEMBER","MATERIAL","NATIONAL","PERSONAL","PRACTICE","RESEARCH","ACTIVITY",
  "ACTUALLY","PROBABLY","SECURITY","LANGUAGE","POSITION","COMMUNITY","CUSTOMER","BUSINESS","DECISION","INCLUDING",
  "CHILDREN","PRESIDENT","EDUCATION","HOSPITAL","MEDICINE","COMPUTER","INTERNET","SOFTWARE","NETWORK","STUDIES",
  "READING","HISTORY","DETAILS","OFFICIAL","ADDRESS","MEASURE","CONTROL","SERVICE","PRODUCT","PROCESS",
  "SUPPORT","QUALITY","BENEFIT","CHAPTER","SECTION","ACCOUNT","PICTURE","BALANCE","OPERATE","PATTERN",
  "ARTICLE","INSTEAD","SUBJECT","PROGRAM","LIBRARY","TEACHER","STUDENT","PRIVACY","FASHION","FUNCTION",
  "INSTANCE","VARIABLE","AVAILABLE","TELEPHONE","CONTAINER","MATERIALS","STRUCTURE","COMPLETE","CONSIDER","EXHIBITS",
  "TRAVELER","ADVISORY","SCHEDULE","CAMPAIGN","STRANGER","DEPARTMENT","REFERENCE","SITUATION","PRODUCER","EXPENSES",
  "TRIANGLE","ALGORITHM","ELEVATOR","BROADWAY","DISCOUNT","NOTEBOOK","PAINTING","CAMERA","JOURNAL","CANDIDATE"
];

/* Validate bank at runtime (sanity) */
(function(){
  const bad = WORD_BANK.filter(w => !(typeof w==='string' && w.length>=6 && w.length<=10 && new Set(w.split('')).size>=5));
  if(bad.length) console.warn('Word bank contains entries that do not meet constraints:', bad);
})();

/* ---------- Game state ---------- */
let secret = "";
let revealed = [];   // boolean per letter
let guessed = new Set();
let wrong = 0;       // wrong guesses (0..6)
let ended = false;
let lastSecret = null;

/* DOM refs */
const lettersEl = document.getElementById('letters');
const guessedListEl = document.getElementById('guessedList');
const overlay = document.getElementById('overlay');
const endMessage = document.getElementById('endMessage');

/* pick a random word, different from last if possible */
function pickWord(){
  if(WORD_BANK.length === 0) return "DEFAULT";
  let pool = WORD_BANK.slice();
  if(lastSecret && pool.length>1) pool = pool.filter(w => w !== lastSecret);
  const idx = Math.floor(Math.random()*pool.length);
  return pool[idx];
}

/* start fresh game */
function startNewGame(){
  secret = pickWord().toUpperCase();
  lastSecret = secret;
  revealed = Array.from(secret).map(_ => false);
  guessed.clear();
  wrong = 0;
  ended = false;
  hideAllPieces();
  overlay.style.display = 'none';
  overlay.setAttribute('aria-hidden','true');
  endMessage.textContent = '';
  render();
}

/* render letter slots and guessed list */
function render(){
  // letters
  lettersEl.innerHTML = '';
  for(let i=0;i<secret.length;i++){
    const slot = document.createElement('div');
    slot.className = 'slot' + (revealed[i] ? ' revealed' : '');
    slot.textContent = revealed[i] ? secret[i] : '';
    lettersEl.appendChild(slot);
  }

  // guessed letters alphabetical
  const arr = Array.from(guessed).sort();
  guessedListEl.innerHTML = '';
  for(const ch of arr){
    const node = document.createElement('div');
    node.className = 'guessed-letter';
    node.textContent = ch;
    guessedListEl.appendChild(node);
  }
}

/* reveal piece n (1..6) */
function revealPiece(n){
  const g = document.getElementById(`piece-${n}`);
  if(g) g.setAttribute('visibility','visible');
}

/* hide all pieces */
function hideAllPieces(){
  for(let i=1;i<=6;i++){
    const g = document.getElementById(`piece-${i}`);
    if(g) g.setAttribute('visibility','hidden');
  }
}

/* handle a guessed letter (uppercase) */
function handleGuess(letter){
  if(ended) return;
  if(!/^[A-Z]$/.test(letter)) return;
  if(guessed.has(letter)) return; // ignore repeats

  guessed.add(letter);

  // reveal occurrences
  let found = false;
  for(let i=0;i<secret.length;i++){
    if(secret[i] === letter){
      revealed[i] = true;
      found = true;
    }
  }

  if(!found){
    wrong++;
    if(wrong >= 1 && wrong <= 6) revealPiece(wrong);
  }

  render();
  checkEnd();
}

/* check win or loss */
function checkEnd(){
  if(revealed.every(Boolean)){
    ended = true;
    showEndMessage(true);
    return;
  }
  if(wrong >= 6){
    ended = true;
    showEndMessage(false);
    return;
  }
}

/* show end message minimal */
function showEndMessage(won){
  overlay.style.display = 'flex';
  overlay.setAttribute('aria-hidden','false');
  if(won){
    endMessage.textContent = 'YOU WIN! PRESS ENTER TO PLAY AGAIN.';
  } else {
    endMessage.textContent = `GAME OVER. THE WORD WAS: ${secret}. PRESS ENTER TO PLAY AGAIN.`;
  }
}

/* keyboard listener */
window.addEventListener('keydown', (ev) => {
  if(ended && ev.key === 'Enter'){
    startNewGame();
    return;
  }
  if(ended) return;
  if(ev.key && ev.key.length === 1 && /^[a-zA-Z]$/.test(ev.key)){
    handleGuess(ev.key.toUpperCase());
  }
});

/* start first game */
startNewGame();

/* accessibility labels */
lettersEl.setAttribute('aria-label', `Hidden letters: ${secret.length} letters`);
guessedListEl.setAttribute('aria-label', 'Guessed letters (alphabetical)');

</script>
</body>
</html>
